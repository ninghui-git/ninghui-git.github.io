{"title":"Javascript 日常记录","slug":"Javascript-日常记录","date":"2020-09-14T09:34:05.000Z","updated":"2021-03-08T09:43:02.373Z","comments":true,"path":"api/articles/Javascript-日常记录.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<h1 id=\"Javascript-日常记录\"><a href=\"#Javascript-日常记录\" class=\"headerlink\" title=\"Javascript 日常记录\"></a>Javascript 日常记录</h1><h2 id=\"1、【数组去重】-四行代码\"><a href=\"#1、【数组去重】-四行代码\" class=\"headerlink\" title=\"1、【数组去重】 四行代码\"></a>1、【数组去重】 四行代码</h2><p>原理：利用Js中对象的属性名不可重复的特点对数组进行去重操作</p>\n<p>若有数组:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr &#x3D; [&#39;a&#39;,&#39;v&#39;,&#39;a&#39;,&#39;b&#39;,&#39;e&#39;,&#39;b&#39;,&#39;w&#39;,&#39;x&#39;]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    var object &#x3D; &#123;&#125;;</span><br><span class=\"line\">    for(var key in arr)</span><br><span class=\"line\">        if(!object[arr[key]])</span><br><span class=\"line\">            object[arr[key]] &#x3D; 1;</span><br><span class=\"line\">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>打印结果：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Object</span><br><span class=\"line\">    a: 1</span><br><span class=\"line\">    b: 1</span><br><span class=\"line\">    e: 1</span><br><span class=\"line\">    v: 1</span><br><span class=\"line\">    w: 1</span><br><span class=\"line\">    x: 1</span><br></pre></td></tr></table></figure>\n\n<p>此时object对象中的属性名便是去重后的结果。</p>\n<h2 id=\"2、在字符串中找到所有的字符-o，并返回其下标\"><a href=\"#2、在字符串中找到所有的字符-o，并返回其下标\" class=\"headerlink\" title=\"2、在字符串中找到所有的字符 o，并返回其下标\"></a>2、在字符串中找到所有的字符 o，并返回其下标</h2><p>若有字符串</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var s &#x3D; &#39;oresdfrgosdfsdo&#39;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &lt;script&gt;  </span><br><span class=\"line\">\tvar index &#x3D; -1;</span><br><span class=\"line\">    while(true)&#123;</span><br><span class=\"line\">        index &#x3D; s.indexOf(&quot;o&quot;,index+1)</span><br><span class=\"line\">        if(index &#x3D;&#x3D; -1)</span><br><span class=\"line\">            break;</span><br><span class=\"line\">            console.log(index);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>结果：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0</span><br><span class=\"line\">8</span><br><span class=\"line\">14</span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>2019 年 10 月 24 日 更新</p>\n<h2 id=\"3、返回给定参数的数据类型\"><a href=\"#3、返回给定参数的数据类型\" class=\"headerlink\" title=\"3、返回给定参数的数据类型\"></a>3、返回给定参数的数据类型</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;**</span><br><span class=\"line\">*\tgetType</span><br><span class=\"line\">*\t@description 返回给定参数的数据类型</span><br><span class=\"line\">*\t@param &#123;Any&#125; 需要做类型检测的参数</span><br><span class=\"line\">*\t@return &#123;String&#125;</span><br><span class=\"line\">*&#x2F;</span><br><span class=\"line\">function getType(args)&#123;</span><br><span class=\"line\">    if (typeof arg &#x3D;&#x3D;&#x3D; &#39;number&#39; &amp;&amp; isNaN(arg)) return &#39;NaN&#39;;</span><br><span class=\"line\">    let reg &#x3D; &#x2F;\\s(\\w&#123;1,&#125;)\\]$&#x2F;g;</span><br><span class=\"line\">    let str &#x3D; Object.prototype.toString.call(args);</span><br><span class=\"line\">    let type &#x3D; reg.exec(str)[1];</span><br><span class=\"line\">    return type</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>测试</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var a &#x3D; 1;</span><br><span class=\"line\">var b &#x3D; false;</span><br><span class=\"line\">var c &#x3D; &#39;ss&#39;;</span><br><span class=\"line\">var d;</span><br><span class=\"line\">var e &#x3D; null;</span><br><span class=\"line\">var f &#x3D; NaN;</span><br><span class=\"line\">var g &#x3D; &#123;&#125;;</span><br><span class=\"line\">var h &#x3D; () &#x3D;&gt; &#123;&#125;</span><br><span class=\"line\">var i &#x3D; [];</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(checkType(a));</span><br><span class=\"line\">console.log(checkType(b));</span><br><span class=\"line\">console.log(checkType(c));</span><br><span class=\"line\">console.log(checkType(d));</span><br><span class=\"line\">console.log(checkType(e));</span><br><span class=\"line\">console.log(checkType(f));</span><br><span class=\"line\">console.log(checkType(g));</span><br><span class=\"line\">console.log(checkType(h));</span><br><span class=\"line\">console.log(checkType(i));</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4、什么时候-val-1-amp-amp-val-2-amp-amp-val-3-为-true？\"><a href=\"#4、什么时候-val-1-amp-amp-val-2-amp-amp-val-3-为-true？\" class=\"headerlink\" title=\"4、什么时候 val === 1 &amp;&amp; val === 2 &amp;&amp; val === 3 为 true？\"></a>4、什么时候 val === 1 &amp;&amp; val === 2 &amp;&amp; val === 3 为 true？</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var i&#x3D; 0;</span><br><span class=\"line\">Object.defineProperty(window,&#39;val&#39;,&#123;</span><br><span class=\"line\">    get:function()&#123;</span><br><span class=\"line\">        return ++i;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    set:function()&#123;</span><br><span class=\"line\">        console.log(&#39;set&#39;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">console.log(val &#x3D;&#x3D;&#x3D; 1 &amp;&amp; val &#x3D;&#x3D;&#x3D; 2 &amp;&amp; val &#x3D;&#x3D;&#x3D; 3);</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]}